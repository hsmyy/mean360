<section ng-controller="ManagerController" class="container">
	<div id="wrapper" class="row-fluid">
		<div class="col-md-2">
			<nav class="nav-docs" role="complementary">
				<div class="span3 " style="width: auto;">
					<ul class="nav">
						<li class="active"><a href="#!/manage/#" ng-click="func=1">创建新评价</li>
					</ul>
					<ul class="nav">
						<li class="active"><a id="started-group"
							href="#getting-started-overview" prevent-default=""
							sscroll-to="getting-started-overview">正在进行的评价</a>
							<ul class="nav">
								<li class=""><a href="#!/manage/#"
									prevent-default="" data-title="Overview" ng-click="func=2">2014年度360反馈</a></li>
								<li class=""><a href="#!/manage/#"
									prevent-default="" data-title="Installation"
									ng-click="changeView()">2014年度360潜能人才评价</a></li>
							</ul></li>
					</ul>
				</div>
			</nav>
		</div>
	</div>
	<div class="col-md-10 col-md-offset-2">
		<div ng-show="func == 1">
			<h3>创建新的360评估</h3>
			<hr />
			<div>
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label class="col-md-2">评估名称</label>
					<div class="col-md-10">
						<input class="form-control input-sm" data-ng-model="evaluationName">
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-2">评估简介</label>
					<div class="col-md-10">
						<textarea class="form-control" rows="3" data-ng-model="evaluationDescription"></textarea>
					</div>
				</div>
                Evaluation Description: {{evaluationDescription}}
				<hr class="sectionBreak"/>
				<div class="command">
					<button class="btn btn-primary" data-ng-click="createNewEvaluation()">提交</button>
				</div>
			</form>
			</div>
		</div>
		<div ng-show="func == 2">
			<h3>360 管理</h3>
			<hr class="sectionBreak"/>
			<h4>进度管理</h4>
			<div class="row">
				<tabset> 
					<tab ng-repeat="time in timeline" heading="{{time.name}}">
						<div>当前花费时间：{{time.time}}%</div>
						<div class="progress">
							<div class="progress-bar progress-bar-striped" role="progressbar"
								aria-valuenow="time.time" aria-valuemin="0" aria-valuemax="100"
								style="width: {{time.time}}%">
								<span class="sr-only"></span>
							</div>
						</div>
						<div>当前完成比例：{{time.progress}}%</div>
						<div class="progress">
							<div class="progress-bar progress-bar-warning progress-bar-striped"
								role="progressbar" aria-valuenow="70" aria-valuemin="0"
								aria-valuemax="100" style="width: {{time.progress}}%">
								<span class="sr-only"></span>
							</div>
						</div>
						<hr class="sectionBreak"/>
						<div class="command">
							<button class="btn btn-default" ng-click="startPeriod($index)">开始</button>
							<button class="btn btn-default" ng-click="notifyPeriod($index)">提醒未完成者</button>
							<button class="btn btn-primary" ng-click="finishPeriod($index)">结束</button>
						</div>
					</tab>
				</tabset>
			</div>
			<hr  class="sectionBreak"/>
			<h4>配置管理</h4>
			<div class="row">
				<div class="alert alert-danger alert-dismissible" role="alert">
					<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					注意：以上項目在360评价开始后無法更改，请认真填写！</div>
				<div class="alert alert-info alert-dismissible" role="alert">
					<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					注意：由于360项目已经开始，以下项目无法修改
				</div>
				<tabset> 
					<tab heading="時間">
						<div class="row">
							<div class="col-md-12">
								<form class="form-horizontal" role="form">
									<div class="form-group" ng-repeat="group in timeline">
										<hr />
										<div class="row form-row">
											<label class="col-md-2 text-right">{{group.name}}</label>
											<div class="col-md-3 text-right">
												开始时间:
											</div>
											<div class="col-md-4">
												<div class="input-group">
													<input type="text" class="form-control"
													datepicker-popup="{{format}}" ng-model="group.startTime" is-open="group.startInput.opened"
													min-date="group.startInput.minDate" max-date="'2015-06-22'"
													datepicker-options="group.startInput.dateOptions"
													date-disabled="disabled(date, mode)" ng-required="true"
													close-text="Close" /> <span class="input-group-btn">
													<button type="button" class="btn btn-default"
														ng-click="openCalendar($event, group.startInput)">
														<i class="glyphicon glyphicon-calendar"></i>
													</button>
													</span>
												</div>
											</div>
										</div>
										<div class="row form-row">
											<div class="col-md-2"></div>
											<div class="col-md-3 text-right">
												结束时间
											</div>
											<div class="col-md-4">
												<div class="input-group">
													<input type="text" class="form-control"
													datepicker-popup="{{format}}" ng-model="group.endTime" is-open="group.endInput.opened"
													min-date="group.endInput.minDate" max-date="'2015-06-22'"
													datepicker-options="group.endInput.dateOptions"
													date-disabled="disabled(date, mode)" ng-required="true"
													close-text="Close" />
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default"
                                                            ng-click="openCalendar($event, group.endInput)">
                                                            <i class="glyphicon glyphicon-calendar"></i>
                                                        </button>
													</span>
												</div>
											</div>
										</div>
										<div class="row form-row">
											<label class="col-md-2"></label>
											<div class="col-md-3 text-right">
												自动邮件提醒未完成者
											</div>
											<div class="col-md-4">
												<select ng-model="group.autoReminder" class="form-control">
													<option value="10">结束前10天</option>
													<option value="5">结束前5天</option>
													<option value="3">结束前3天</option>
												</select>
											</div>
										</div>
										<div class="row form-row">
											<label class="col-md-2"></label>
											<div class="col-md-3 text-right">
												发送每日进度报告给管理者
											</div>
											<div class="col-md-4">
												<input type="checkbox" ng-model="group.autoSendDailyProgress">
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								
							</div>
						</div>
						</tab> 
						<tab heading="选择评价者配置">
							<form class="form-horizontal">
								<fieldset>
									<div id="legend" class="">
										<legend class="">评价者最大數量</legend>
									</div>
									<div class="control-group clearfix">
										<!-- Text input-->
										<label class="control-label col-md-2" for="input01">上司</label>
										<div class="controls col-md-6">
											<input type="text" placeholder="范围：1到2" class="input-xlarge form-control">
										</div>
									</div>
									<div class="control-group clearfix">
										<!-- Text input-->
										<label class="control-label col-md-2" for="input01">同事</label>
										<div class="controls col-md-6">
											<input type="text" placeholder="范围：4到6" class="input-xlarge form-control">
										</div>
									</div>
									<div class="control-group clearfix">
										<!-- Text input-->
										<label class="control-label col-md-2" for="input01">下属</label>
										<div class="controls col-md-6">
											<input type="text" placeholder="范围：4到6" class="input-xlarge form-control">
										</div>
									</div>
								</fieldset>
							</form>
						</tab> 
						<tab heading="评价">
							<h4>评价模型</h4>			
							<table ng-table="tableParams" class="table">
							<tbody ng-repeat="group in $groups">
								<tr class="ng-table-group">
									<td colspan="{{$columns.length}}"><a href=""
										ng-click="group.$hideRows = !group.$hideRows"> <span
											class="glyphicon"
											ng-class="{ 'glyphicon-chevron-right': group.$hideRows, 'glyphicon-chevron-down': !group.$hideRows }"></span>
											<strong>{{ group.value }}</strong>
									</a></td>
								</tr>
								<tr ng-hide="group.$hideRows" ng-repeat="user in group.data">
									<td sortable="question" data-title="'題目'">{{user.question}}</td>
								</tr>
							</tbody>
						</table>
						<hr class="sectionBreak"/>
						<div class="row">
							<div class="col-md-6">
								<h4>创建问题类型</h4>
								<div class="well">
									<form>
									<input type="text" class="form-control" placeholder="请填入问题类型" ng-init="newCategory=''" ng-model="newCategory">
									<button class="btn btn-default" ng-click="createCategory()">创建类型</button>
									</form>
								</div>
							</div>
							<div class="col-md-6">
								<h4>创建问题</h4>
								<div class="well">
									<select class="form-control" ng-model="choosedCategory">
										<option ng-repeat="cat in category track by $index" value="$index">
											{{cat}}
										</option>
									</select>
									<input type="text" class="form-control" placeholder="请填入问题" ng-model="newQuestion">
									<button class="btn btn-default" ng-click="createQuestion()">创建问题</button>
								</div>
							</div>
						</div>
					</tab>
					<tab heading="反馈">
						
					</tab>
				</tabset>
				<hr class="sectionBreak"/>
				<div class="command">
					<button class="btn btn-primary" ng-click="save()">保存</button>
				</div>
			</div>
		</div>
		
	</div>
</section>
