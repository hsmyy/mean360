<section class="container" ng-controller="NominationController">
	<div id="wrapper" class="row-fluid">
		<div class="col-md-2">
			<nav class="nav-docs" role="complementary">
				<div class="span3 " style="width: auto;">
					<ul class="nav">
						<li class="active"><a id="started-group"
							href="#getting-started-overview" prevent-default=""
							sscroll-to="getting-started-overview">目录</a>
							<ul class="nav">
								<li class=""><a href="#getting-started-overview"
									prevent-default="" data-title="Overview">当前的提名</a></li>
								<li class=""><a href="#getting-started-installation"
									prevent-default="" data-title="Installation"
									ng-click="changeView()">历史提名</a></li>
							</ul></li>
					</ul>
				</div>
			</nav>
		</div>
	</div>
	<div class="col-md-10 col-md-offset-2">
		<div class="row">
			<h3>2014年度360反馈提名</h3>
		</div>
		
		<div ng-repeat="item in nomi">
			<div class="row">
				<div class="col-md-12">
					<div>
						<h4>{{item.name}}</h4>
					</div>
				</div>
			</div>
			<div class="row">
				<div ng-repeat="choose in item.choose">
					<div class="col-md-3 card">
						<div class="pull-left photo">
							<img src="nomination/assets/img/account.jpg" />
						</div>
						<div class="pull-left">
							<div>姓名：{{choose.name}}</div>
							<div>职位：{{choose.position}}</div>
							<div>部门：{{choose.department}}</div>
						</div>
						<div class="pull-right">
							<button ng-click="delCandidate($index,$parent.$index)" class="close">&times;</button>
						</div>
					</div>
				</div>
				<div class="col-md-3 card addPerson" 
					ng-show="canAdd($index)" ng-click="show($index)">
					<div class="glyphicon glyphicon-plus"></div>
				</div>
			</div>
			<div class="row" ng-show="canShow($index)">
				<table ng-table="candidatesTable[$index]" class="table">
        			<tr ng-repeat="user in $data">
            			<td data-title="'姓名'">{{user.name}}</td>
            			<td data-title="'职位'">{{user.position}}</td>
            			<td data-title="'部门'">{{user.department}}</td>
            			<td data-title="'操作'"><button ng-click="addCandidate($index,$parent.$index)" class="btn">添加 {{$index}} , {{$parent.$index}}</button></td>
        			</tr>
        		</table>
				<table class="table">
					<thead>
						<tr>
							<th>姓名</th>
							<th>职位</th>
							<th>部门</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody ng-repeat="candidate in $candidatesVal[$index]">
						<tr>
							<td>{{candidate.name}}</td>
							<td>{{candidate.position}}</td>
							<td>{{candidate.department}}</td>
							<td><button ng-click="addCandidate($index,$parent.$index)" class="btn">添加 {{$index}} , {{$parent.$index}}</button></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<div ng-show="isFinish">恭喜您，提名完成！</div>
	</div>
</section>
